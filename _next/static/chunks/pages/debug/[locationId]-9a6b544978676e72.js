(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[299],{7951:function(n,i,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/debug/[locationId]",function(){return o(4110)}])},4110:function(n,i,o){"use strict";o.r(i),o.d(i,{__N_SSG:function(){return m}});var e=o(5893),t=o(5276),r=o(381),a=o.n(r),l=o(1163),c=o(7294),s=o(214),d=o.n(s),u=o(4402),f=function(n){for(var i=n.length,o=n[0].length,e=new Array(o),t=0;t<o;t++)e[t]=new Array(i);for(var r=0;r<o;r++)for(var a=0;a<i;a++)e[r][a]=n[i-a-1][r];return e},h=function(n){var i=n.camera.updates[n.camera.updates.length-1],o=f(f(f(function(n){return n.trim().split("\n").map((function(n){return n.trim().split(" ").map((function(n){return+n}))}))}(i.state))));console.log();var t=o.length,r=o[0].length,l=100,c=0,s=0,d=0;return o.forEach((function(n){n.forEach((function(n){n<l&&(l=n),n>c&&(c=n),s+=n}))})),d=s/(t*r),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("h4",{children:["Camera ",n.index]}),(0,e.jsxs)("h5",{style:{fontStyle:"italic",fontWeight:"normal",marginTop:0},children:["Last updated"," ",(null===i||void 0===i?void 0:i.timestamp)?a().unix((null===i||void 0===i?void 0:i.timestamp)/1e3).fromNow():"unknown"]}),(0,e.jsxs)("h5",{children:["Height: ",t]}),(0,e.jsxs)("h5",{children:["Width: ",r]}),(0,e.jsxs)("h5",{children:["Min: ",l.toFixed(1)]}),(0,e.jsxs)("h5",{children:["Max: ",c.toFixed(1)]}),(0,e.jsxs)("h5",{children:["Avg: ",d.toFixed(1)]})]}),(0,e.jsx)("div",{children:o.map((function(n,i){return(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:n.map((function(n,o){var t=255*((n-l)/(c-l)),r=255-t;return(0,e.jsxs)("div",{style:{flexDirection:"row",display:"flex"},children:[0===o&&(0,e.jsxs)("p",{style:{margin:0,marginTop:4,fontVariant:"tabular-nums",fontSize:14},children:[i<10?"0":"",i]}),(0,e.jsxs)("div",{children:[0===i&&(0,e.jsxs)("p",{style:{margin:0,marginLeft:8,fontVariant:"tabular-nums",fontSize:14},children:[o<10?"0":"",o]}),(0,e.jsx)("p",{style:{margin:4,fontVariant:"tabular-nums",fontSize:14,fontWeight:"400",backgroundColor:"rgb(".concat(t,", ").concat(r,", 0)")},children:n.toFixed(1)})]})]},o)}))},i)}))})]})},_=function(n){return(0,e.jsxs)("h2",{children:["Debug: ",n.location.name,n.location.cameras.map((function(n,i){return(0,e.jsx)(h,{camera:n,index:i},i)}))]})},m=!0;i.default=function(){var n=(0,l.useRouter)().query.locationId,i=(0,c.useState)(void 0),o=i[0],r=i[1];return(0,c.useEffect)((function(){console.log("Searching","locations/".concat(null!==n&&void 0!==n?n:"demo"));var i=(0,t.iH)(u.db,"locations/".concat(null!==n&&void 0!==n?n:"demo"));(0,t.jM)(i,(function(n){var i;console.log(n.val()),r(null!==(i=n.val())&&void 0!==i?i:null)}),(function(n){r(null)}))}),[]),(0,e.jsx)("div",{className:d().container,children:void 0===o?(0,e.jsx)("p",{children:"Loading..."}):null===o?(0,e.jsx)("p",{children:"Location Not Found"}):(0,e.jsx)(_,{location:o})})}},214:function(n){n.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},1163:function(n,i,o){n.exports=o(387)}},function(n){n.O(0,[885,774,888,179],(function(){return i=7951,n(n.s=i);var i}));var i=n.O();_N_E=i}]);